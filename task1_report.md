# Нагрузочное тестирование
## Запрос put
### wrk
```
./wrk -t1 -c1 -d40s -R2000 -s put.lua --latency http://127.0.0.1:8080
```

```
Running 40s test @ http://127.0.0.1:8080
  1 threads and 1 connections
  Thread calibration: mean lat.: 2.331ms, rate sampling interval: 10ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.38ms  805.71us  11.61ms   71.94%
    Req/Sec     2.12k   282.31     4.44k    71.21%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.28ms
 75.000%    1.85ms
 90.000%    2.32ms
 99.000%    3.37ms
 99.900%    7.88ms
 99.990%   10.58ms
 99.999%   11.49ms
100.000%   11.61ms
```

```
  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.115     0.000000            1         1.00
       0.448     0.100000         6018         1.11
       0.705     0.200000        12002         1.25
       0.938     0.300000        18023         1.43
       1.111     0.400000        24036         1.67
       1.284     0.500000        30021         2.00
       1.391     0.550000        32999         2.22
       1.501     0.600000        35997         2.50
       1.619     0.650000        39006         2.86
       1.731     0.700000        42011         3.33
       1.848     0.750000        45007         4.00
       1.910     0.775000        46494         4.44
       1.972     0.800000        47999         5.00
       2.038     0.825000        49495         5.71
       2.119     0.850000        51020         6.67
       2.215     0.875000        52517         8.00
       2.269     0.887500        53253         8.89
       2.321     0.900000        54002        10.00
       2.379     0.912500        54757        11.43
       2.449     0.925000        55508        13.33
       2.525     0.937500        56251        16.00
       2.569     0.943750        56632        17.78
       2.609     0.950000        57002        20.00
       2.653     0.956250        57380        22.86
       2.703     0.962500        57754        26.67
       2.763     0.968750        58121        32.00
       2.795     0.971875        58309        35.56
       2.839     0.975000        58496        40.00
       2.883     0.978125        58681        45.71
       2.941     0.981250        58870        53.33
       3.031     0.984375        59055        64.00
       3.091     0.985938        59148        71.11
       3.163     0.987500        59244        80.00
       3.269     0.989062        59334        91.43
       3.477     0.990625        59428       106.67
       3.943     0.992188        59523       128.00
       4.219     0.992969        59569       142.22
       4.519     0.993750        59616       160.00
       4.823     0.994531        59662       182.86
       5.159     0.995313        59709       213.33
       5.595     0.996094        59756       256.00
       5.767     0.996484        59780       284.44
       5.955     0.996875        59803       320.00
       6.203     0.997266        59826       365.71
       6.419     0.997656        59850       426.67
       6.759     0.998047        59873       512.00
       6.951     0.998242        59885       568.89
       7.163     0.998437        59897       640.00
       7.403     0.998633        59908       731.43
       7.647     0.998828        59920       853.33
       7.923     0.999023        59932      1024.00
       8.131     0.999121        59939      1137.78
       8.303     0.999219        59944      1280.00
       8.431     0.999316        59949      1462.86
       8.687     0.999414        59955      1706.67
       8.991     0.999512        59961      2048.00
       9.063     0.999561        59964      2275.56
       9.247     0.999609        59967      2560.00
       9.439     0.999658        59970      2925.71
       9.639     0.999707        59973      3413.33
       9.927     0.999756        59976      4096.00
       9.943     0.999780        59977      4551.11
      10.239     0.999805        59979      5120.00
      10.255     0.999829        59980      5851.43
      10.479     0.999854        59982      6826.67
      10.583     0.999878        59984      8192.00
      10.583     0.999890        59984      9102.22
      10.847     0.999902        59985     10240.00
      10.847     0.999915        59985     11702.86
      11.103     0.999927        59986     13653.33
      11.271     0.999939        59987     16384.00
      11.271     0.999945        59987     18204.44
      11.295     0.999951        59988     20480.00
      11.295     0.999957        59988     23405.71
      11.295     0.999963        59988     27306.67
      11.487     0.999969        59989     32768.00
      11.487     0.999973        59989     36408.89
      11.487     0.999976        59989     40960.00
      11.487     0.999979        59989     46811.43
      11.487     0.999982        59989     54613.33
      11.615     0.999985        59990     65536.00
      11.615     1.000000        59990          inf
#[Mean    =        1.382, StdDeviation   =        0.806]
#[Max     =       11.608, Total count    =        59990]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  79999 requests in 40.00s, 5.11MB read
Requests/sec:   1999.97
Transfer/sec:    130.86KB
```
